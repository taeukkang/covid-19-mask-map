{"version":3,"sources":["components/AppNav.js","context/MaskDataContext.js","components/Search.js","components/RemainingStockBadge.js","hooks/useNaverMapsMarkers.js","hooks/useNaverMaps.js","components/MapPanel.js","components/MaskStoreTable.js","components/SearchResult.js","components/SearchWrapper.js","App.js","serviceWorker.js","i18n.js","index.js","assets/MaskMapLogo.svg","assets/MaskMapIntro.svg"],"names":["AppNav","useTranslation","t","i18n","Navbar","bg","expand","className","Brand","href","src","MaskMapLogo","width","alt","Toggle","aria-controls","Collapse","id","Nav","NavDropdown","title","Item","onClick","changeLanguage","Link","icon","faChartArea","size","faGithub","MaskDataContext","createContext","mapObj","setMapObj","maskStores","setMaskStores","centerCoord","setCenterCoord","markerFilter","plenty","some","few","empty","setMarkerFilter","MaskDataContextProvider","children","useState","Provider","value","useMaskData","context","useContext","undefined","Error","Search","geoloc","useGeolocation","geolocState","setGeolocState","geolocWhenAvailable","setGeolocWhenAvailable","address","setAddress","fetchGeocode","a","axios","get","data","console","error","log","useEffect","localStorage","getItem","navigator","permissions","query","name","then","result","state","accuracy","latitude","longitude","coord","lat","lng","onClickAddress","length","alert","setItem","geocodes","meta","totalCount","addresses","y","x","Container","Row","Col","MaskMapIntro","sm","md","lg","Form","onSubmit","e","preventDefault","Group","controlId","Label","Control","type","placeholder","onChange","target","Text","Button","variant","faSearch","faLocationArrow","Alert","RemainingStockBadge","text","remainingStockStr","Badge","useNaverMapsMarkers","markers","setMarkers","plentyMarkers","setPlentyMarkers","someMarkers","setSomeMarkers","fewMarkers","setFewMarkers","emptyMarkers","setEmptyMarkers","breakMarkers","setBreakMarkers","resetMarker","useCallback","forEach","marker","setMap","addMarker","map","window","naver","maps","Marker","position","infoWindowHTML","addr","ReactDOMServer","renderToString","remain_stat","infoWindow","InfoWindow","content","Event","addListener","open","oldArray","addColorIndicatorMarkers","stores","_plentyMarkers","_someMarkers","_fewMarkers","_emptyMarkers","_breakMarkers","store","iconPath","markerText","anchor","Point","push","useNaverMaps","ref","options","center","zoom","zoomControl","disableDoubleClickZoom","current","Map","MapPanel","mapRef","useRef","loadMap","style","minHeight","height","maxHeight","MaskStoreTable","Table","responsive","key","code","SearchResult","isLoading","setIsLoading","dataError","setDataError","showBetaAlert","setShowBetaAlert","setNewMaskStores","priority","sort","b","indexOf","markerFilterCheckboxHandler","prev","checked","fetchStoresByGeo","loc","range","serverUrl","fn","setCenter","setZoom","day","Date","getDay","dayOfWeek","alternateMaskDays","weekday","digits","availableDigits","join","onClose","dismissible","faExclamationTriangle","block","newCenter","getCenter","class","disabled","defaultChecked","htmlFor","for","Spinner","animation","role","overflow","SearchWrapper","showModal","setShowModal","handleClose","Modal","show","onHide","Header","closeButton","Title","Body","Footer","App","fallback","Boolean","location","hostname","match","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister","catch","message","module","exports"],"mappings":"8TA0DeA,MAjDf,WAAmB,IAAD,EACMC,cAAZC,EADM,EACNA,EAAGC,EADG,EACHA,KAEX,OACI,kBAACC,EAAA,EAAD,CAAQC,GAAG,QAAQC,OAAO,KAAKC,UAAU,2BACrC,kBAACH,EAAA,EAAOI,MAAR,CAAcC,KAAK,IAAIF,UAAU,SAC7B,yBACIG,IAAKC,IACLC,MAAM,OACNC,IAAI,4DACJN,UAAU,SAEbL,EAAE,YAEP,kBAACE,EAAA,EAAOU,OAAR,CAAeC,gBAAc,oBACzB,+BACA,+BACA,gCAEJ,kBAACX,EAAA,EAAOY,SAAR,CAAiBC,GAAG,oBAChB,kBAACC,EAAA,EAAD,CAAKX,UAAU,WACX,kBAACY,EAAA,EAAD,CAAaC,MAAM,yBACf,kBAACD,EAAA,EAAYE,KAAb,CACIC,QAAS,kBAAMnB,EAAKoB,eAAe,QADvC,sBAIA,kBAACJ,EAAA,EAAYE,KAAb,CACIC,QAAS,kBAAMnB,EAAKoB,eAAe,QADvC,WAIA,kBAACJ,EAAA,EAAYE,KAAb,CACIC,QAAS,kBAAMnB,EAAKoB,eAAe,QADvC,iBAKJ,kBAACL,EAAA,EAAIM,KAAL,CAAUf,KAAK,4BACX,kBAAC,IAAD,CAAiBgB,KAAMC,IAAaC,KAAK,OAAQ,IAChDzB,EAAE,qBAEP,kBAACgB,EAAA,EAAIM,KAAL,CAAUf,KAAK,0CACX,kBAAC,IAAD,CAAiBgB,KAAMG,IAAUD,KAAK,OAAQ,IAC7CzB,EAAE,e,OChDd2B,EAAkBC,wBAAc,CACzCC,OAAQ,KACRC,UAAW,aACXC,WAAY,GACZC,cAAe,aACfC,YAAa,KACbC,eAAgB,aAChBC,aAAc,CACVC,QAAQ,EACRC,MAAM,EACNC,KAAK,EACLC,OAAO,GAEXC,gBAAiB,eAGd,SAASC,EAAT,GAAgD,IAAbC,EAAY,EAAZA,SAAY,EACtBC,mBAAS,MADa,mBAC3Cd,EAD2C,KACnCC,EADmC,OAEda,mBAAS,IAFK,mBAE3CZ,EAF2C,KAE/BC,EAF+B,OAGZW,mBAAS,MAHG,mBAG3CV,EAH2C,KAG9BC,EAH8B,OAIVS,mBAAS,CAC7CP,QAAQ,EACRC,MAAM,EACNC,KAAK,EACLC,OAAO,IARuC,mBAI3CJ,EAJ2C,KAI7BK,EAJ6B,KAWlD,OACI,kBAACb,EAAgBiB,SAAjB,CACIC,MAAO,CACHhB,SACAC,YACAC,aACAC,gBACAC,cACAC,iBACAC,eACAK,oBAEHE,GAKN,SAASI,IACZ,IAAMC,EAAUC,qBAAWrB,GAE3B,QAAgBsB,IAAZF,EACA,MAAM,IAAIG,MACN,6DAGR,OAAOH,E,kICgIII,MA3Kf,WACI,IAAMC,EAASC,cADD,EAEwBV,mBAAS,MAFjC,mBAEPW,EAFO,KAEMC,EAFN,OAGwCZ,oBAAS,GAHjD,mBAGPa,EAHO,KAGcC,EAHd,KAINvB,EAAmBY,IAAnBZ,eAEAlC,EAAMD,cAANC,EANM,EAQgB2C,mBAAS,IARzB,mBAQPe,EARO,KAQEC,EARF,KAURC,EAAY,uCAAG,WAAOF,GAAP,eAAAG,EAAA,+EAGAC,IAAMC,IAAN,UAIC,+BAJD,qBAKIL,IARJ,cAGbM,EAHa,yBAUNA,GAVM,gCAYbC,QAAQC,MAAR,MACAD,QAAQE,IAAI,qCAAuCT,GAbtC,yDAAH,sDAiBlBU,qBAAU,WACNT,EAAWU,aAAaC,QAAQ,0BACjC,IAEHF,qBAAU,WACN,GAAKhB,EAAL,CAMA,IACImB,UAAUC,YACLC,MAAM,CAAEC,KAAM,gBACdC,MAAK,SAACC,GACHrB,EAAeqB,EAAOC,UAEhC,MAAOX,GACLD,QAAQC,MAAMA,GACdX,EAAe,WAGnB,GAAIC,IAEuB,MAAnBJ,EAAO0B,UACY,MAAnB1B,EAAO2B,UACa,MAApB3B,EAAO4B,WACT,CACE,IAAMC,EAAQ,CACVC,IAAK9B,EAAO2B,SACZI,IAAK/B,EAAO4B,WAEhB9C,EAAe+C,GACfhB,QAAQE,IAAIc,OAGrB,CAAC7B,EAAQI,EAAqBtB,IAEjC,IAQMkD,EAAc,uCAAG,8BAAAvB,EAAA,2DACfH,EAAQ2B,OAAS,GADF,uBAEfC,MAAM,6DAFS,iCAMnBjB,aAAakB,QAAQ,sBAAuB7B,GANzB,kBAUEE,EAAaF,GAVf,OAUf8B,EAVe,gEAYfvB,QAAQC,MAAR,MACAoB,MAAM,8HAbS,8BAiBnBrB,QAAQE,IAAIqB,EAASxB,MAEhBwB,EAASxB,KAAKyB,KAAKC,WAnBL,wBAoBfJ,MAAM,8HApBS,2BAwBfL,EAAQ,CACRC,IAAKM,EAASxB,KAAK2B,UAAU,GAAGC,EAChCT,IAAKK,EAASxB,KAAK2B,UAAU,GAAGE,GAGpC3D,EAAe+C,GA7BI,0DAAH,qDAqCpB,OACI,oCACI,kBAACa,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,KACI,yBAAK3F,UAAU,oBACX,yBACIG,IAAKyF,IACLtF,IAAI,qDACJD,MAAM,QACNL,UAAU,SAEd,wBAAIA,UAAU,SACTL,EAAE,wBAKnB,kBAAC+F,EAAA,EAAD,CAAK1F,UAAU,2CACX,kBAAC2F,EAAA,EAAD,CAAKE,GAAI,GAAIC,GAAI,EAAGC,GAAI,GACpB,kBAACC,EAAA,EAAD,CAAMC,SAzBD,SAACC,GACtBA,EAAEC,iBACFpB,MAwBoB,kBAACiB,EAAA,EAAKI,MAAN,CAAYC,UAAU,kBAClB,kBAACL,EAAA,EAAKM,MAAN,KACK3G,EAAE,sBAEP,kBAACqG,EAAA,EAAKO,QAAN,CACIC,KAAK,OACLC,YAAY,GACZjE,MAAOa,EACPqD,SAAU,SAACR,GAAD,OAAO5C,EAAW4C,EAAES,OAAOnE,UAEzC,kBAACwD,EAAA,EAAKY,KAAN,CAAW5G,UAAU,cAChBL,EAAE,yBAGX,yBAAKK,UAAU,2BACX,kBAAC6G,EAAA,EAAD,CACIC,QAAQ,UACR9G,UAAU,OACVe,QAASgE,GACT,kBAAC,IAAD,CAAiB7D,KAAM6F,MAAa,IACnCpH,EAAE,oBAEP,kBAACkH,EAAA,EAAD,CACIC,QAAQ,kBACR/F,QA1FV,WACE,YAAhBkC,GACAgC,MAAM,iKAGV7B,GAAuB,KAsFK,kBAAC,IAAD,CAAiBlC,KAAM8F,MAAoB,IAC1CrH,EAAE,oBAGX,kBAACsH,EAAA,EAAD,CAAOH,QAAQ,QACVnH,EAAE,oC,mECvIpBuH,MAjCf,YAAqD,IAE7CJ,EACAK,EAHuBC,EAAqB,EAArBA,kBACnBzH,EAAMD,cAANC,EAIR,OAAQyH,GACJ,IAAK,SACDN,EAAU,UACVK,EAAOxH,EAAE,gBACT,MACJ,IAAK,OACDmH,EAAU,UACVK,EAAOxH,EAAE,cACT,MACJ,IAAK,MACDmH,EAAU,SACVK,EAAOxH,EAAE,aACT,MACJ,IAAK,QACDmH,EAAU,QACVK,EAAOxH,EAAE,eACT,MACJ,IAAK,QACDmH,EAAU,YACVK,EAAOxH,EAAE,eACT,MACJ,QACImH,EAAU,QACVK,EAAO,IAEf,OAAO,kBAACE,EAAA,EAAD,CAAOP,QAASA,GAAUK,ICuLtBG,EAnNa,WAAO,IAAD,EACAhF,mBAAS,IADT,mBACvBiF,EADuB,KACdC,EADc,OAEYlF,mBAAS,IAFrB,mBAEvBmF,EAFuB,KAERC,EAFQ,OAGQpF,mBAAS,IAHjB,mBAGvBqF,EAHuB,KAGVC,EAHU,OAIMtF,mBAAS,IAJf,mBAIvBuF,EAJuB,KAIXC,EAJW,OAKUxF,mBAAS,IALnB,mBAKvByF,EALuB,KAKTC,EALS,OAMU1F,mBAAS,IANnB,mBAMvB2F,EANuB,KAMTC,EANS,KAOtBvI,EAAMD,cAANC,EAEAmC,EAAiBW,IAAjBX,aAwCFqG,EAAcC,uBAAY,WAC5Bb,EAAQc,SAAQ,SAACC,GACbA,EAAOC,OAAO,SAElBd,EAAcY,SAAQ,SAACC,GACnBA,EAAOC,OAAO,SAElBV,EAAWQ,SAAQ,SAACC,GAChBA,EAAOC,OAAO,SAElBZ,EAAYU,SAAQ,SAACC,GACjBA,EAAOC,OAAO,SAElBR,EAAaM,SAAQ,SAACC,GAClBA,EAAOC,OAAO,SAElBN,EAAaI,SAAQ,SAACC,GAClBA,EAAOC,OAAO,SAElBf,EAAW,MACZ,CACCD,EACAE,EACAI,EACAF,EACAI,EACAE,IAiIJ,MAAO,CACHO,UAlMc,SAACC,EAAK9E,GACpB,GAAK+E,OAAOC,OAAUD,OAAOC,MAAMC,KAAnC,CAIA,IAAMN,EAAS,IAAII,OAAOC,MAAMC,KAAKC,OAAO,CACxCJ,IAAKA,EACLK,SAAU,CACNjE,IAAKlB,EAAKkB,IACVC,IAAKnB,EAAKmB,OAIZiE,EAAc,qHAEkBpF,EAAKU,KAFvB,qCAGPV,EAAKqF,KAHE,8DAIHC,IAAeC,eACpB,kBAAC,EAAD,CAAqB9B,kBAAmBzD,EAAKwF,eALrC,4BASdC,EAAa,IAAIV,OAAOC,MAAMC,KAAKS,WAAW,CAChDC,QAASP,IAIbL,OAAOC,MAAMC,KAAKW,MAAMC,YAAYlB,EAAQ,aAAa,SAAUpC,GAC/DkD,EAAWK,KAAKhB,EAAKH,MAGzBI,OAAOC,MAAMC,KAAKW,MAAMC,YAAYlB,EAAQ,SAAS,SAAUpC,GAC3DkD,EAAWK,KAAKhB,EAAKH,MAGzBd,GAAW,SAACkC,GAAD,4BAAkBA,GAAlB,CAA4BpB,SAgKvCqB,yBAhI6BvB,uBAC7B,SAACK,EAAKmB,GACF,GAAKlB,OAAOC,OAAUD,OAAOC,MAAMC,KAAnC,CAIA,IAAIiB,EAAiB,GACjBC,EAAe,GACfC,EAAc,GACdC,EAAgB,GAChBC,EAAgB,GAEpBL,EAAOvB,SAAQ,SAAC6B,GACZ,IAAIC,EACAC,EAEJ,QAC0BxH,IAAtBsH,EAAMf,aACgB,OAAtBe,EAAMf,aACgB,UAAtBe,EAAMf,aACgB,UAAtBe,EAAMf,YAJV,CASA,OAAQe,EAAMf,aACV,IAAK,SACDgB,EAAW,mBACXC,EAAa,MACb,MACJ,IAAK,OACDD,EAAW,oBACXC,EAAa,KACb,MACJ,IAAK,MACDD,EAAW,iBACXC,EAAa,IACb,MACJ,IAAK,QACDD,EAAW,kBACXC,EAAa,IACb,MACJ,IAAK,QACDD,EAAW,kBACXC,EAAa,IACb,MACJ,QACID,EAAW,kBACXC,EAAa,IAGrB,IAAM9B,EAAS,IAAII,OAAOC,MAAMC,KAAKC,OAAO,CACxCJ,IAAKA,EACLK,SAAU,CACNjE,IAAKqF,EAAMrF,IACXC,IAAKoF,EAAMpF,KAEf5D,KAAM,CACFoI,QAAQ,wCAAD,OAA0Ca,EAA1C,iEAA2GC,EAA3G,cACPC,OAAQ,IAAI3B,OAAOC,MAAMC,KAAK0B,MAAM,GAAI,MAI1CvB,EAAc,8IAEUmB,EAAM7F,KAFhB,2DAGO6F,EAAMlB,KAHb,8DAIXC,IAAeC,eACpB,kBAAC,EAAD,CACI9B,kBAAmB8C,EAAMf,eANb,uDAShBe,EAAM7F,KATU,yEAWjB1E,EAAE,kBAXe,iCAcdyJ,EAAa,IAAIV,OAAOC,MAAMC,KAAKS,WAAW,CAChDC,QAASP,IAkBb,OAdAL,OAAOC,MAAMC,KAAKW,MAAMC,YACpBlB,EACA,aACA,SAAUpC,GACNkD,EAAWK,KAAKhB,EAAKH,MAI7BI,OAAOC,MAAMC,KAAKW,MAAMC,YAAYlB,EAAQ,SAAS,SACjDpC,GAEAkD,EAAWK,KAAKhB,EAAKH,MAGjB4B,EAAMf,aACV,IAAK,SACDU,EAAeU,KAAKjC,GACpB,MACJ,IAAK,OACDwB,EAAaS,KAAKjC,GAClB,MACJ,IAAK,MACDyB,EAAYQ,KAAKjC,GACjB,MACJ,IAAK,QACD0B,EAAcO,KAAKjC,GACnB,MACJ,IAAK,QACD2B,EAAcM,KAAKjC,GACnB,MACJ,QACI0B,EAAcO,KAAKjC,QAG/BH,IACAT,EAAiBmC,GACjBjC,EAAekC,GACfhC,EAAciC,GACd/B,EAAgB+B,GAChB7B,EAAgB6B,MAEpB,CAACjI,IAMDqG,gBChMOqC,EAnBM,WACjB,OAAOpC,uBAAY,SAACqC,EAAKC,GAWrB,GAVAA,EAAU,CACNC,OAAQ,CACJ9F,IAAK,UACLC,IAAK,YAET8F,KAAM,EACNC,aAAa,EACbC,wBAAwB,GAGxBpC,OAAOC,OAAS8B,EAAIM,QACpB,OAAO,IAAIrC,OAAOC,MAAMC,KAAKoC,IAAIP,EAAIM,QAASL,KAGnD,KCMQO,MApBf,WAAqB,IACTxJ,EAAcgB,IAAdhB,UACFyJ,EAASC,mBACTC,EAAUZ,IAMhB,OAJAzG,qBAAU,WACNtC,EAAU2J,EAAQF,MACnB,CAACE,EAAS3J,IAGT,oCACI,yBACIf,GAAG,MACH+J,IAAKS,EACLG,MAAO,CAAEC,UAAW,OAAQC,OAAQ,OAAQC,UAAW,Y,SC0BxDC,MAtCf,WAA2B,IACf9L,EAAMD,cAANC,EACA+B,EAAee,IAAff,WAER,OACI,oCACI,kBAACgK,EAAA,EAAD,CAAOC,YAAU,GACb,+BACI,4BACI,4BAAKhM,EAAE,mBACP,4BAAKA,EAAE,yBACP,4BAAKA,EAAE,wBAGf,+BACK+B,EAAW+G,KAAI,SAACyB,GACb,OACI,wBAAI0B,IAAK1B,EAAM2B,MACX,4BAAK3B,EAAM7F,MACX,4BAEQ,kBAAC,EAAD,CACI+C,kBACI8C,EAAMf,eAKtB,4BAAKe,EAAMlB,c,OCiR5B8C,MA1Rf,WAAyB,IAAD,EACApM,cAAZC,EADY,EACZA,EAAGC,EADS,EACTA,KADS,EAShB6C,IALAjB,EAJgB,EAIhBA,OACAE,EALgB,EAKhBA,WACAC,EANgB,EAMhBA,cACAC,EAPgB,EAOhBA,YACAC,EARgB,EAQhBA,eARgB,EAU8ByF,IAA1CqC,EAVY,EAUZA,yBAA0BxB,EAVd,EAUcA,YAVd,EAYc7F,oBAAS,GAZvB,mBAYbyJ,EAZa,KAYFC,EAZE,OAac1J,oBAAS,GAbvB,mBAab2J,EAba,KAaFC,EAbE,OAcsB5J,oBAAS,GAd/B,mBAcb6J,EAda,KAcEC,EAdF,OAgBoB9J,mBAAS,CAC7CP,QAAQ,EACRC,MAAM,EACNC,KAAK,EACLC,OAAO,IApBS,mBAgBbJ,EAhBa,KAgBCK,EAhBD,KAuBdkK,EAAmBjE,uBACrB,SAACzE,GACG,IAAM2I,EAAW,CACb,SACA,OACA,MACA,QACA,QACA,UACA1J,GAEJe,EAAK4I,MACD,SAAC/I,EAAGgJ,GAAJ,OACIF,EAASG,QAAQjJ,EAAE2F,aACnBmD,EAASG,QAAQD,EAAErD,gBAE3BxH,EAAcgC,KAElB,CAAChC,IAGC+K,EAA8B,SAACxG,GACjC,IAAIS,EAAST,EAAES,OACf/C,QAAQE,IAAI6C,GACZxE,GAAgB,SAACwK,GACb,OAAO,eACAA,EADP,eAEKhG,EAAOtC,KAAOsC,EAAOiG,cAoFlC,OA/EA7I,qBAAU,WACNH,QAAQE,IAAIhC,KACb,CAACA,IAEJiC,qBAAU,WACN,IAAM8I,EAAgB,uCAAG,WAAOC,EAAKC,GAAZ,iBAAAvJ,EAAA,6DACfwJ,EADe,qFAC2EF,EAAIjI,IAD/E,gBAC0FiI,EAAIhI,IAD9F,cACuGiI,GADvG,SAKjBf,GAAa,GALI,SAMFvI,IAAMuJ,GANJ,OAMjBzI,EANiB,OAOjByH,GAAa,GAPI,sDASjBpI,QAAQC,MAAM,yCAAd,MACAqI,GAAa,GACbF,GAAa,GACPnJ,MAAM,UAZK,iCAcd0B,EAAOZ,KAAKiG,QAdE,yDAAH,yDAiBd,uCAAG,4BAAApG,EAAA,6DACP2E,IACAvE,QAAQE,IAAI,0BAFL,kBAKU+I,EAAiBjL,EAAa,KALxC,OAKH+B,EALG,OAMHC,QAAQE,IAAR,0BACAF,QAAQE,IAAIH,GACZwE,IACAkE,EAAiB1I,GATd,kDAWHC,QAAQC,MAAM,wBAXX,0DAAH,qDAeRoJ,KACD,CAACrL,EAAayK,IAEjBtI,qBAAU,WACFvC,IACAA,EAAO0L,UAAUtL,GACjBJ,EAAO2L,QAAQ,OAEpB,CAAC3L,EAAQI,IAEZmC,qBAAU,WACDvC,GAILmI,EAAyBnI,EAAQE,KAClC,CAACA,EAAYF,EAAQmI,IAUKvB,uBAAY,WACrC,IACMgF,GADQ,IAAIC,MACAC,SAElB,OAAY,IAARF,GAAqB,IAARA,EAENzN,EAAE,uBAGFA,EAAE,sBAAuB,CAC5B4N,UAAW5N,EAAE,aAAD,OAAc6N,EAAkBJ,GAAKK,UACjDC,OAAQF,EAAkBJ,GAAKO,gBAAgBC,KAAK,UAG7D,CAAChO,IAGA,oCACI,8BACI,kBAAC6F,EAAA,EAAD,CAAW/E,GAAG,iBACV,kBAACgF,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKE,GAAI,IACJsG,GACG,kBAAClF,EAAA,EAAD,CACIH,QAAQ,UACR+G,QAAS,kBAAMzB,GAAiB,IAChC0B,aAAW,GACX,kBAAC,IAAD,CACI5M,KAAM6M,MACP,IACFpO,EAAE,gCAKnB,kBAAC+F,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKG,GAAI,GAML,kBAAC,EAAD,MACA,kBAACe,EAAA,EAAD,CACIC,QAAQ,kBACR9G,UAAU,YACVgO,OAAK,EACLjN,QAvDD,WACvB,IAAMkN,EAAYzM,EAAO0M,YACzBrM,EAAe,CACXgD,IAAKoJ,EAAU1I,EACfT,IAAKmJ,EAAUzI,MAoDK,kBAAC,IAAD,CAAiBtE,KAAM8F,MAAoB,IAC1CrH,EAAE,sBAGX,kBAACgG,EAAA,EAAD,CAAKG,GAAI,GACJmG,GACG,kBAAChF,EAAA,EAAD,CAAOH,QAAQ,SAAS9G,UAAU,QAC9B,kBAAC,IAAD,CACIkB,KAAM6M,MACP,IACFpO,EAAE,2BAGX,yBAAKK,UAAU,2DACX,yBAAKmO,MAAM,cACP,2BACI3H,KAAK,WACL4H,UAAQ,EACRD,MAAM,mBACNzN,GAAG,mBACH2D,KAAK,SACLgK,eAAgBvM,EAAaC,OAC7BS,MAAOV,EAAaC,OACpB2E,SAAUgG,IAEd,2BACIyB,MAAM,mBACNG,QAAQ,oBACR,kBAAC,EAAD,CAAqBlH,kBAAkB,WAAY,IAHvD,gBAOJ,yBAAK+G,MAAM,cACP,2BACI3H,KAAK,WACL4H,UAAQ,EACRD,MAAM,mBACNzN,GAAG,iBACH2D,KAAK,OACLgK,eAAgBvM,EAAaE,KAC7BQ,MAAOV,EAAaE,KACpB0E,SAAUgG,IAEd,2BACIyB,MAAM,mBACNI,IAAI,kBACJ,kBAAC,EAAD,CAAqBnH,kBAAkB,SAAU,IAHrD,WAOJ,yBAAK+G,MAAM,cACP,2BACI3H,KAAK,WACL4H,UAAQ,EACRD,MAAM,mBACNzN,GAAG,gBACH2D,KAAK,MACLgK,eAAgBvM,EAAaG,IAC7BO,MAAOV,EAAaG,IACpByE,SAAUgG,IAEd,2BACIyB,MAAM,mBACNI,IAAI,iBACJ,kBAAC,EAAD,CAAqBnH,kBAAkB,QAAS,IAHpD,SAOJ,yBAAK+G,MAAM,cACP,2BACI3H,KAAK,WACL4H,UAAQ,EACRD,MAAM,mBACNzN,GAAG,kBACH2D,KAAK,QACLgK,eAAgBvM,EAAaI,MAC7BM,MAAOV,EAAaI,MACpBwE,SAAUgG,IAEd,2BACIyB,MAAM,mBACNI,IAAI,mBACJ,kBAAC,EAAD,CAAqBnH,kBAAkB,UAAW,IAHtD,aASP2E,EACG,kBAACyC,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,UAC7B,0BAAM1O,UAAU,WAAhB,eAEJ0B,GAAcA,EAAWsD,OACzB,oCACI,kBAAC,EAAD,CACIqG,MAAO,CACHsD,SAAU,OACVnD,UAAW,YAKvB,kBAACvE,EAAA,EAAD,CAAOH,QAAQ,UAAf,4P,SC3PjB8H,MAnCf,WAA0B,IACdhN,EAAgBa,IAAhBb,YACAjC,EAAMD,cAANC,EAFa,EAGa2C,oBAAS,GAHtB,mBAGduM,EAHc,KAGHC,EAHG,KAKfC,EAAc,kBAAMD,GAAa,IAEvC,OACI,oCACMlN,EAA2B,kBAAC,EAAD,MAAb,kBAAC,EAAD,MAEhB,kBAACoN,EAAA,EAAD,CAAOC,KAAMJ,EAAWK,OAAQH,GAC5B,kBAACC,EAAA,EAAMG,OAAP,CAAcC,aAAW,GACrB,kBAACJ,EAAA,EAAMK,MAAP,KAAc1P,EAAE,qBAGpB,kBAACqP,EAAA,EAAMM,KAAP,KACI,2BACK3P,EAAE,+BAIX,kBAACqP,EAAA,EAAMO,OAAP,KACI,kBAAC1I,EAAA,EAAD,CAAQC,QAAQ,YAAY5G,KAAK,4BAC5BP,EAAE,qBAEP,kBAACkH,EAAA,EAAD,CAAQC,QAAQ,UAAU/F,QAASgO,GAC9BpP,EAAE,cCfZ6P,MAdf,WACI,OAEI,kBAAC,WAAD,CAAUC,SAAU,+BAChB,kBAACrN,EAAD,KACI,4BAAQpC,UAAU,cACd,kBAAC,EAAD,OAEJ,kBAAC,EAAD,SCDI0P,QACa,cAA7BhH,OAAOiH,SAASC,UAEiB,UAA7BlH,OAAOiH,SAASC,UAEhBlH,OAAOiH,SAASC,SAASC,MACrB,2D,+BCbZjQ,KAGKkQ,IAAIC,MAGJD,IAAIE,MAEJF,IAAIG,KAGJC,KAAK,CACFC,YAAa,KACbC,OAAO,EAEPC,cAAe,CACXC,aAAa,KAIV1Q,GAAf,EClBA2Q,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SF6HzC,kBAAmBxM,WACnBA,UAAUyM,cAAcC,MACnBtM,MAAK,SAACuM,GACHA,EAAaC,gBAEhBC,OAAM,SAAClN,GACJD,QAAQC,MAAMA,EAAMmN,a,qYG1IpCC,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,0C","file":"static/js/main.580ed8b0.chunk.js","sourcesContent":["import { faGithub } from \"@fortawesome/free-brands-svg-icons\";\nimport { faChartArea } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Nav, Navbar, NavDropdown } from \"react-bootstrap\";\nimport { useTranslation } from \"react-i18next\";\nimport MaskMapLogo from \"../assets/MaskMapLogo.svg\";\nimport \"../css/AppNav.css\";\n\nfunction AppNav() {\n    const { t, i18n } = useTranslation();\n\n    return (\n        <Navbar bg=\"light\" expand=\"lg\" className=\"mb-3 navbar-mobile-thin\">\n            <Navbar.Brand href=\"/\" className=\"title\">\n                <img\n                    src={MaskMapLogo}\n                    width=\"24px\"\n                    alt=\"공적 마스크 지도 로고\"\n                    className=\"mr-2\"\n                />\n                {t(\"appName\")}\n            </Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\">\n                <span></span>\n                <span></span>\n                <span></span>\n            </Navbar.Toggle>\n            <Navbar.Collapse id=\"basic-navbar-nav\">\n                <Nav className=\"ml-auto\">\n                    <NavDropdown title=\"🌐 Language\">\n                        <NavDropdown.Item\n                            onClick={() => i18n.changeLanguage(\"ko\")}>\n                            한국어\n                        </NavDropdown.Item>\n                        <NavDropdown.Item\n                            onClick={() => i18n.changeLanguage(\"en\")}>\n                            English\n                        </NavDropdown.Item>\n                        <NavDropdown.Item\n                            onClick={() => i18n.changeLanguage(\"zh\")}>\n                            中文\n                        </NavDropdown.Item>\n                    </NavDropdown>\n                    <Nav.Link href=\"https://livecorona.co.kr\">\n                        <FontAwesomeIcon icon={faChartArea} size=\"lg\" />{\" \"}\n                        {t(\"covid19Dashboard\")}\n                    </Nav.Link>\n                    <Nav.Link href=\"https://github.com/LiveCoronaDetector/\">\n                        <FontAwesomeIcon icon={faGithub} size=\"lg\" />{\" \"}\n                        {t(\"github\")}\n                    </Nav.Link>\n                </Nav>\n            </Navbar.Collapse>\n        </Navbar>\n    );\n}\n\nexport default AppNav;\n","import React, { createContext, useContext, useState } from \"react\";\n\nexport const MaskDataContext = createContext({\n    mapObj: null,\n    setMapObj: () => {},\n    maskStores: {},\n    setMaskStores: () => {},\n    centerCoord: null,\n    setCenterCoord: () => {},\n    markerFilter: {\n        plenty: true,\n        some: true,\n        few: true,\n        empty: false,\n    },\n    setMarkerFilter: () => {},\n});\n\nexport function MaskDataContextProvider({ children }) {\n    const [mapObj, setMapObj] = useState(null);\n    const [maskStores, setMaskStores] = useState([]);\n    const [centerCoord, setCenterCoord] = useState(null);\n    const [markerFilter, setMarkerFilter] = useState({\n        plenty: true,\n        some: true,\n        few: true,\n        empty: false,\n    });\n\n    return (\n        <MaskDataContext.Provider\n            value={{\n                mapObj,\n                setMapObj,\n                maskStores,\n                setMaskStores,\n                centerCoord,\n                setCenterCoord,\n                markerFilter,\n                setMarkerFilter,\n            }}>\n            {children}\n        </MaskDataContext.Provider>\n    );\n}\n\nexport function useMaskData() {\n    const context = useContext(MaskDataContext);\n\n    if (context === undefined) {\n        throw new Error(\n            \"useMaskData must be used within a MaskDataContextProvider\"\n        );\n    }\n    return context;\n}\n","import { faLocationArrow, faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Col, Container, Form, Row, Alert } from \"react-bootstrap\";\nimport useGeolocation from \"react-hook-geolocation\";\nimport { useTranslation } from \"react-i18next\";\nimport MaskMapIntro from \"../assets/MaskMapIntro.svg\";\nimport { useMaskData } from \"../context/MaskDataContext\";\nimport \"../css/Search.css\";\n\nfunction Search() {\n    const geoloc = useGeolocation();\n    const [geolocState, setGeolocState] = useState(null);\n    const [geolocWhenAvailable, setGeolocWhenAvailable] = useState(false);\n    const { setCenterCoord } = useMaskData();\n\n    const { t } = useTranslation();\n\n    const [address, setAddress] = useState(\"\");\n\n    const fetchGeocode = async (address) => {\n        let data;\n        try {\n            data = await axios.get(\n                `${\n                    process.env.NODE_ENV === \"development\"\n                        ? \"http://localhost:4000\"\n                        : \"https://api.livecorona.co.kr\"\n                }/?address=${address}`\n            );\n            return data;\n        } catch (error) {\n            console.error(error);\n            console.log(\"Failed to retrieve geocoding for: \" + address);\n        }\n    };\n\n    useEffect(() => {\n        setAddress(localStorage.getItem(\"lastSearchedAddress\"));\n    }, []);\n\n    useEffect(() => {\n        if (!geoloc) {\n            return;\n        }\n\n        // navigator.permissions is an experimental API that is\n        // unsupported in iOS, so it needs a try-catch block\n        try {\n            navigator.permissions\n                .query({ name: \"geolocation\" })\n                .then((result) => {\n                    setGeolocState(result.state);\n                });\n        } catch (error) {\n            console.error(error);\n            setGeolocState(\"unknown\");\n        }\n\n        if (geolocWhenAvailable) {\n            if (\n                geoloc.accuracy != null ||\n                geoloc.latitude != null ||\n                geoloc.longitude != null\n            ) {\n                const coord = {\n                    lat: geoloc.latitude,\n                    lng: geoloc.longitude,\n                };\n                setCenterCoord(coord);\n                console.log(coord);\n            }\n        }\n    }, [geoloc, geolocWhenAvailable, setCenterCoord]);\n\n    const onClickGeoloc = () => {\n        if (geolocState !== \"granted\") {\n            alert(\"위치 권한을 브라우저 설정에서 허용해야 사용할 수 있습니다\");\n        }\n\n        setGeolocWhenAvailable(true);\n    };\n\n    const onClickAddress = async () => {\n        if (address.length < 1) {\n            alert(\"주소를 입력해 주세요.\");\n            return;\n        }\n\n        localStorage.setItem(\"lastSearchedAddress\", address);\n\n        let geocodes;\n        try {\n            geocodes = await fetchGeocode(address);\n        } catch (error) {\n            console.error(error);\n            alert(\"주소를 찾을 수 없습니다. 다시 시도해 주십시오.\");\n            return;\n        }\n\n        console.log(geocodes.data);\n\n        if (!geocodes.data.meta.totalCount) {\n            alert(\"주소를 찾을 수 없습니다. 다시 시도해 주십시오.\");\n            return;\n        }\n\n        let coord = {\n            lat: geocodes.data.addresses[0].y,\n            lng: geocodes.data.addresses[0].x,\n        };\n\n        setCenterCoord(coord);\n    };\n\n    const handleFormSubmit = (e) => {\n        e.preventDefault();\n        onClickAddress();\n    };\n\n    return (\n        <>\n            <Container>\n                <Row>\n                    <Col>\n                        <div className=\"text-center mb-5\">\n                            <img\n                                src={MaskMapIntro}\n                                alt=\"공적 마스크 판매처\"\n                                width=\"100vw\"\n                                className=\"mb-3\"\n                            />\n                            <h1 className=\"title\">\n                                {t(\"searchMaskStores\")}\n                            </h1>\n                        </div>\n                    </Col>\n                </Row>\n                <Row className=\"justify-content-center mb-3 text-center\">\n                    <Col sm={12} md={6} lg={5}>\n                        <Form onSubmit={handleFormSubmit}>\n                            <Form.Group controlId=\"formBasicEmail\">\n                                <Form.Label>\n                                    {t(\"addressInputLabel\")}\n                                </Form.Label>\n                                <Form.Control\n                                    type=\"text\"\n                                    placeholder=\"\"\n                                    value={address}\n                                    onChange={(e) => setAddress(e.target.value)}\n                                />\n                                <Form.Text className=\"text-muted\">\n                                    {t(\"addressInputExample\")}\n                                </Form.Text>\n                            </Form.Group>\n                            <div className=\"d-flex flex-column mb-3\">\n                                <Button\n                                    variant=\"primary\"\n                                    className=\"mb-2\"\n                                    onClick={onClickAddress}>\n                                    <FontAwesomeIcon icon={faSearch} />{\" \"}\n                                    {t(\"searchByAddress\")}\n                                </Button>\n                                <Button\n                                    variant=\"outline-primary\"\n                                    onClick={onClickGeoloc}>\n                                    <FontAwesomeIcon icon={faLocationArrow} />{\" \"}\n                                    {t(\"searchByGeoloc\")}\n                                </Button>\n                            </div>\n                            <Alert variant=\"info\">\n                                {t(\"notice.publicMaskShutdown\")}\n                            </Alert>\n                        </Form>\n                    </Col>\n                </Row>\n            </Container>\n        </>\n    );\n}\n\nexport default Search;\n","import React from \"react\";\nimport { Badge } from \"react-bootstrap\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction RemainingStockBadge({ remainingStockStr }) {\n    const { t } = useTranslation();\n    let variant;\n    let text;\n\n    switch (remainingStockStr) {\n        case \"plenty\":\n            variant = \"success\";\n            text = t(\"badge.plenty\");\n            break;\n        case \"some\":\n            variant = \"warning\";\n            text = t(\"badge.some\");\n            break;\n        case \"few\":\n            variant = \"danger\";\n            text = t(\"badge.few\");\n            break;\n        case \"empty\":\n            variant = \"light\";\n            text = t(\"badge.empty\");\n            break;\n        case \"break\":\n            variant = \"secondary\";\n            text = t(\"badge.break\");\n            break;\n        default:\n            variant = \"light\";\n            text = \"?\";\n    }\n    return <Badge variant={variant}>{text}</Badge>;\n}\n\nexport default RemainingStockBadge;\n","import React, { useCallback, useState } from \"react\";\nimport ReactDOMServer from \"react-dom/server\";\nimport { useTranslation } from \"react-i18next\";\nimport RemainingStockBadge from \"../components/RemainingStockBadge\";\nimport { useMaskData } from \"../context/MaskDataContext\";\n\nconst useNaverMapsMarkers = () => {\n    const [markers, setMarkers] = useState([]);\n    const [plentyMarkers, setPlentyMarkers] = useState([]);\n    const [someMarkers, setSomeMarkers] = useState([]);\n    const [fewMarkers, setFewMarkers] = useState([]);\n    const [emptyMarkers, setEmptyMarkers] = useState([]);\n    const [breakMarkers, setBreakMarkers] = useState([]);\n    const { t } = useTranslation();\n\n    const { markerFilter } = useMaskData();\n\n    const addMarker = (map, data) => {\n        if (!window.naver && !window.naver.maps) {\n            return;\n        }\n\n        const marker = new window.naver.maps.Marker({\n            map: map,\n            position: {\n                lat: data.lat,\n                lng: data.lng,\n            },\n        });\n\n        const infoWindowHTML = `\n            <div style=\"font-size: 0.1rem; padding: 15px;\">\n                <h5 style=\"font-size: 13px\">${data.name}</h5>\n                <p>${data.addr}<br />\n                남은 수량: ${ReactDOMServer.renderToString(\n                    <RemainingStockBadge remainingStockStr={data.remain_stat} />\n                )}</p>\n            </div>`;\n\n        const infoWindow = new window.naver.maps.InfoWindow({\n            content: infoWindowHTML,\n        });\n\n        // mouseover event unsupported in touch devices (mobile)\n        window.naver.maps.Event.addListener(marker, \"mouseover\", function (e) {\n            infoWindow.open(map, marker);\n        });\n\n        window.naver.maps.Event.addListener(marker, \"click\", function (e) {\n            infoWindow.open(map, marker);\n        });\n\n        setMarkers((oldArray) => [...oldArray, marker]);\n    };\n\n    const resetMarker = useCallback(() => {\n        markers.forEach((marker) => {\n            marker.setMap(null);\n        });\n        plentyMarkers.forEach((marker) => {\n            marker.setMap(null);\n        });\n        fewMarkers.forEach((marker) => {\n            marker.setMap(null);\n        });\n        someMarkers.forEach((marker) => {\n            marker.setMap(null);\n        });\n        emptyMarkers.forEach((marker) => {\n            marker.setMap(null);\n        });\n        breakMarkers.forEach((marker) => {\n            marker.setMap(null);\n        });\n        setMarkers([]);\n    }, [\n        markers,\n        plentyMarkers,\n        fewMarkers,\n        someMarkers,\n        emptyMarkers,\n        breakMarkers,\n    ]);\n\n    const addColorIndicatorMarkers = useCallback(\n        (map, stores) => {\n            if (!window.naver && !window.naver.maps) {\n                return;\n            }\n\n            let _plentyMarkers = [];\n            let _someMarkers = [];\n            let _fewMarkers = [];\n            let _emptyMarkers = [];\n            let _breakMarkers = [];\n\n            stores.forEach((store) => {\n                let iconPath;\n                let markerText;\n\n                if (\n                    store.remain_stat === undefined ||\n                    store.remain_stat === null ||\n                    store.remain_stat === \"empty\" ||\n                    store.remain_stat === \"break\"\n                ) {\n                    return;\n                }\n\n                switch (store.remain_stat) {\n                    case \"plenty\":\n                        iconPath = \"green_circle.svg\";\n                        markerText = \"100\";\n                        break;\n                    case \"some\":\n                        iconPath = \"yellow_circle.svg\";\n                        markerText = \"30\";\n                        break;\n                    case \"few\":\n                        iconPath = \"red_circle.svg\";\n                        markerText = \"2\";\n                        break;\n                    case \"empty\":\n                        iconPath = \"gray_circle.svg\";\n                        markerText = \"0\";\n                        break;\n                    case \"break\":\n                        iconPath = \"gray_circle.svg\";\n                        markerText = \"X\";\n                        break;\n                    default:\n                        iconPath = \"gray_circle.svg\";\n                        markerText = \"X\";\n                }\n\n                const marker = new window.naver.maps.Marker({\n                    map: map,\n                    position: {\n                        lat: store.lat,\n                        lng: store.lng,\n                    },\n                    icon: {\n                        content: `<div class=\"mask-marker\"><img src=\"./${iconPath}\" height=\"30\" width=\"30\"></img><p class=\"marker-text\">${markerText}</p></div>`,\n                        anchor: new window.naver.maps.Point(15, 0),\n                    },\n                });\n\n                const infoWindowHTML = `\n            <div style=\"font-size: 0.85rem; padding: 5px; width: 200px !important;\">\n                <h5 style=\"font-size: 1rem\">${store.name}</h5>\n                <p className=\"mb-0 pb-0\">${store.addr}<br />\n                남은 수량: ${ReactDOMServer.renderToString(\n                    <RemainingStockBadge\n                        remainingStockStr={store.remain_stat}\n                    />\n                )} | <a href=\"https://map.naver.com/v5/search/${\n                    store.name\n                }\" target=\"_blank\" rel=\"noopener noreferrer\"\n                >${t(\"showDirections\")}</a> </p>\n            </div>`;\n\n                const infoWindow = new window.naver.maps.InfoWindow({\n                    content: infoWindowHTML,\n                });\n\n                // mouseover event unsupported in touch devices (mobile)\n                window.naver.maps.Event.addListener(\n                    marker,\n                    \"mouseover\",\n                    function (e) {\n                        infoWindow.open(map, marker);\n                    }\n                );\n\n                window.naver.maps.Event.addListener(marker, \"click\", function (\n                    e\n                ) {\n                    infoWindow.open(map, marker);\n                });\n\n                switch (store.remain_stat) {\n                    case \"plenty\":\n                        _plentyMarkers.push(marker);\n                        break;\n                    case \"some\":\n                        _someMarkers.push(marker);\n                        break;\n                    case \"few\":\n                        _fewMarkers.push(marker);\n                        break;\n                    case \"empty\":\n                        _emptyMarkers.push(marker);\n                        break;\n                    case \"break\":\n                        _breakMarkers.push(marker);\n                        break;\n                    default:\n                        _emptyMarkers.push(marker);\n                }\n            });\n            resetMarker();\n            setPlentyMarkers(_plentyMarkers);\n            setSomeMarkers(_someMarkers);\n            setFewMarkers(_fewMarkers);\n            setEmptyMarkers(_fewMarkers);\n            setBreakMarkers(_fewMarkers);\n        },\n        [markerFilter]\n    );\n\n    return {\n        addMarker,\n        addColorIndicatorMarkers,\n        resetMarker,\n    };\n};\n\nexport default useNaverMapsMarkers;\n","import { useCallback } from \"react\";\n\nconst useNaverMaps = () => {\n    return useCallback((ref, options) => {\n        options = {\n            center: {\n                lat: 36.377165,\n                lng: 127.533382\n            },\n            zoom: 1,\n            zoomControl: true,\n            disableDoubleClickZoom: true\n        };\n\n        if (window.naver && ref.current) {\n            return new window.naver.maps.Map(ref.current, options);\n        }\n\n    }, []);\n};\n\nexport default useNaverMaps;\n","import React, { useRef, useEffect } from \"react\";\nimport useNaverMaps from \"../hooks/useNaverMaps\";\nimport { useMaskData } from \"../context/MaskDataContext\";\n\nfunction MapPanel() {\n    const { setMapObj } = useMaskData();\n    const mapRef = useRef();\n    const loadMap = useNaverMaps();\n\n    useEffect(() => {\n        setMapObj(loadMap(mapRef));\n    }, [loadMap, setMapObj]);\n\n    return (\n        <>\n            <div\n                id=\"map\"\n                ref={mapRef}\n                style={{ minHeight: \"45vh\", height: \"45vh\", maxHeight: \"65vh\" }}\n            />\n        </>\n    );\n}\n\nexport default MapPanel;\n","import React from \"react\";\nimport { Table } from \"react-bootstrap\";\nimport { useTranslation } from \"react-i18next\";\nimport { useMaskData } from \"../context/MaskDataContext\";\nimport RemainingStockBadge from \"./RemainingStockBadge\";\n\nfunction MaskStoreTable() {\n    const { t } = useTranslation();\n    const { maskStores } = useMaskData();\n\n    return (\n        <>\n            <Table responsive>\n                <thead>\n                    <tr>\n                        <th>{t(\"storeData.name\")}</th>\n                        <th>{t(\"storeData.stockCount\")}</th>\n                        <th>{t(\"storeData.address\")}</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {maskStores.map((store) => {\n                        return (\n                            <tr key={store.code}>\n                                <td>{store.name}</td>\n                                <td>\n                                    {\n                                        <RemainingStockBadge\n                                            remainingStockStr={\n                                                store.remain_stat\n                                            }\n                                        />\n                                    }\n                                </td>\n                                <td>{store.addr}</td>\n                            </tr>\n                        );\n                    })}\n                </tbody>\n            </Table>\n        </>\n    );\n}\n\nexport default MaskStoreTable;\n","import {\n    faExclamationTriangle,\n    faLocationArrow,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport axios from \"axios\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport {\n    Alert,\n    Button,\n    Card,\n    Col,\n    Container,\n    Row,\n    Spinner,\n} from \"react-bootstrap\";\nimport { useTranslation } from \"react-i18next\";\nimport { useMaskData } from \"../context/MaskDataContext\";\nimport alternateMaskDays from \"../data/alternateMaskDays.json\";\nimport useNaverMapsMarkers from \"../hooks/useNaverMapsMarkers\";\nimport MapPanel from \"./MapPanel\";\nimport MaskStoreTable from \"./MaskStoreTable\";\nimport RemainingStockBadge from \"./RemainingStockBadge\";\nimport \"../css/SearchResult.css\";\n\nfunction SearchResult() {\n    const { t, i18n } = useTranslation();\n\n    const {\n        mapObj,\n        maskStores,\n        setMaskStores,\n        centerCoord,\n        setCenterCoord,\n    } = useMaskData();\n    const { addColorIndicatorMarkers, resetMarker } = useNaverMapsMarkers();\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [dataError, setDataError] = useState(false);\n    const [showBetaAlert, setShowBetaAlert] = useState(true);\n\n    const [markerFilter, setMarkerFilter] = useState({\n        plenty: true,\n        some: true,\n        few: true,\n        empty: false,\n    });\n\n    const setNewMaskStores = useCallback(\n        (data) => {\n            const priority = [\n                \"plenty\",\n                \"some\",\n                \"few\",\n                \"empty\",\n                \"break\",\n                null,\n                undefined,\n            ];\n            data.sort(\n                (a, b) =>\n                    priority.indexOf(a.remain_stat) -\n                    priority.indexOf(b.remain_stat)\n            );\n            setMaskStores(data);\n        },\n        [setMaskStores]\n    );\n\n    const markerFilterCheckboxHandler = (e) => {\n        let target = e.target;\n        console.log(target);\n        setMarkerFilter((prev) => {\n            return {\n                ...prev,\n                [target.name]: target.checked,\n            };\n        });\n    };\n\n    useEffect(() => {\n        console.log(markerFilter);\n    }, [markerFilter]);\n\n    useEffect(() => {\n        const fetchStoresByGeo = async (loc, range) => {\n            const serverUrl = `https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByGeo/json?lat=${loc.lat}&lng=${loc.lng}&m=${range}`;\n\n            let result;\n            try {\n                setIsLoading(true);\n                result = await axios(serverUrl);\n                setIsLoading(false);\n            } catch (error) {\n                console.error(\"An error occurred in fetchStoresByGeo:\", error);\n                setDataError(true);\n                setIsLoading(false);\n                throw Error(\"Failed\");\n            }\n            return result.data.stores;\n        };\n\n        const fn = async () => {\n            resetMarker();\n            console.log(\"Fetching store data...\");\n            let data;\n            try {\n                data = await fetchStoresByGeo(centerCoord, 5000);\n                console.log(`New store data fetched`);\n                console.log(data);\n                resetMarker();\n                setNewMaskStores(data);\n            } catch {\n                console.error(\"Failed to fetch data\");\n            }\n        };\n\n        fn();\n    }, [centerCoord, setNewMaskStores]);\n\n    useEffect(() => {\n        if (mapObj) {\n            mapObj.setCenter(centerCoord);\n            mapObj.setZoom(14);\n        }\n    }, [mapObj, centerCoord]);\n\n    useEffect(() => {\n        if (!mapObj) {\n            return;\n        }\n\n        addColorIndicatorMarkers(mapObj, maskStores);\n    }, [maskStores, mapObj, addColorIndicatorMarkers]);\n\n    const onClickMapRelocate = () => {\n        const newCenter = mapObj.getCenter();\n        setCenterCoord({\n            lat: newCenter.y,\n            lng: newCenter.x,\n        });\n    };\n\n    const getAlternateMaskText = useCallback(() => {\n        const today = new Date();\n        const day = today.getDay();\n\n        if (day === 0 || day === 6) {\n            // Weekend\n            return t(\"maskBuyAlertWeekend\");\n        } else {\n            // Weekday\n            return t(\"maskBuyAlertWeekday\", {\n                dayOfWeek: t(`dayOfWeek.${alternateMaskDays[day].weekday}`),\n                digits: alternateMaskDays[day].availableDigits.join(\", \"),\n            });\n        }\n    }, [i18n]);\n\n    return (\n        <>\n            <main>\n                <Container id=\"mainContainer\">\n                    <Row>\n                        <Col sm={12}>\n                            {showBetaAlert && (\n                                <Alert\n                                    variant=\"warning\"\n                                    onClose={() => setShowBetaAlert(false)}\n                                    dismissible>\n                                    <FontAwesomeIcon\n                                        icon={faExclamationTriangle}\n                                    />{\" \"}\n                                    {t(\"notice.publicMaskShutdown\")}\n                                </Alert>\n                            )}\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col md={6}>\n                            {/* <Card style={{ marginBottom: \"5px\" }}>\n                                <Card.Body className=\"p-1\">\n                                    {getAlternateMaskText()}\n                                </Card.Body>\n                            </Card> */}\n                            <MapPanel />\n                            <Button\n                                variant=\"outline-primary\"\n                                className=\"mt-1 mb-1\"\n                                block\n                                onClick={onClickMapRelocate}>\n                                <FontAwesomeIcon icon={faLocationArrow} />{\" \"}\n                                {t(\"refreshMapStores\")}\n                            </Button>\n                        </Col>\n                        <Col md={6}>\n                            {dataError && (\n                                <Alert variant=\"danger\" className=\"mt-1\">\n                                    <FontAwesomeIcon\n                                        icon={faExclamationTriangle}\n                                    />{\" \"}\n                                    {t(\"error.failedToLoadData\")}\n                                </Alert>\n                            )}\n                            <div className=\"border p-1 mb-1 d-flex flex-row justify-content-between\">\n                                <div class=\"form-check\">\n                                    <input\n                                        type=\"checkbox\"\n                                        disabled\n                                        class=\"form-check-input\"\n                                        id=\"showPlentyStores\"\n                                        name=\"plenty\"\n                                        defaultChecked={markerFilter.plenty}\n                                        value={markerFilter.plenty}\n                                        onChange={markerFilterCheckboxHandler}\n                                    />\n                                    <label\n                                        class=\"form-check-label\"\n                                        htmlFor=\"showPlentyStores\">\n                                        <RemainingStockBadge remainingStockStr=\"plenty\" />{\" \"}\n                                        100개 +\n                                    </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input\n                                        type=\"checkbox\"\n                                        disabled\n                                        class=\"form-check-input\"\n                                        id=\"showSomeStores\"\n                                        name=\"some\"\n                                        defaultChecked={markerFilter.some}\n                                        value={markerFilter.some}\n                                        onChange={markerFilterCheckboxHandler}\n                                    />\n                                    <label\n                                        class=\"form-check-label\"\n                                        for=\"showSomeStores\">\n                                        <RemainingStockBadge remainingStockStr=\"some\" />{\" \"}\n                                        30-100\n                                    </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input\n                                        type=\"checkbox\"\n                                        disabled\n                                        class=\"form-check-input\"\n                                        id=\"showFewStores\"\n                                        name=\"few\"\n                                        defaultChecked={markerFilter.few}\n                                        value={markerFilter.few}\n                                        onChange={markerFilterCheckboxHandler}\n                                    />\n                                    <label\n                                        class=\"form-check-label\"\n                                        for=\"showFewStores\">\n                                        <RemainingStockBadge remainingStockStr=\"few\" />{\" \"}\n                                        2-30\n                                    </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input\n                                        type=\"checkbox\"\n                                        disabled\n                                        class=\"form-check-input\"\n                                        id=\"showEmptyStores\"\n                                        name=\"empty\"\n                                        defaultChecked={markerFilter.empty}\n                                        value={markerFilter.empty}\n                                        onChange={markerFilterCheckboxHandler}\n                                    />\n                                    <label\n                                        class=\"form-check-label\"\n                                        for=\"showEmptyStores\">\n                                        <RemainingStockBadge remainingStockStr=\"empty\" />{\" \"}\n                                        0개\n                                    </label>\n                                </div>\n                            </div>\n\n                            {isLoading ? (\n                                <Spinner animation=\"border\" role=\"status\">\n                                    <span className=\"sr-only\">Loading...</span>\n                                </Spinner>\n                            ) : maskStores && maskStores.length ? (\n                                <>\n                                    <MaskStoreTable\n                                        style={{\n                                            overflow: \"auto\",\n                                            maxHeight: \"100px\",\n                                        }}\n                                    />\n                                </>\n                            ) : (\n                                <Alert variant=\"danger\">\n                                    주변에 마스크 판매처가 없습니다. 지도를\n                                    이동한 후 지도 아래의 재검색 버튼을 이용해\n                                    주세요.\n                                </Alert>\n                            )}\n                        </Col>\n                    </Row>\n                </Container>\n            </main>\n        </>\n    );\n}\n\nexport default SearchResult;\n","import React, { useState } from \"react\";\nimport { useMaskData } from \"../context/MaskDataContext\";\nimport Search from \"./Search\";\nimport SearchResult from \"./SearchResult\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction SearchWrapper() {\n    const { centerCoord } = useMaskData();\n    const { t } = useTranslation();\n    const [showModal, setShowModal] = useState(true);\n\n    const handleClose = () => setShowModal(false);\n\n    return (\n        <>\n            {!centerCoord ? <Search /> : <SearchResult />}\n            \n            <Modal show={showModal} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>{t(\"serviceShutdown\")}</Modal.Title>\n                </Modal.Header>\n\n                <Modal.Body>\n                    <p>\n                        {t(\"notice.publicMaskShutdown\")}\n                    </p>\n                </Modal.Body>\n\n                <Modal.Footer>\n                    <Button variant=\"secondary\" href=\"https://livecorona.co.kr\">\n                        {t(\"covid19Dashboard\")}\n                    </Button>\n                    <Button variant=\"primary\" onClick={handleClose}>\n                        {t(\"close\")}\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n}\n\nexport default SearchWrapper;\n","import React, { Suspense } from \"react\";\nimport AppNav from \"./components/AppNav\";\nimport SearchWrapper from \"./components/SearchWrapper\";\nimport { MaskDataContextProvider } from \"./context/MaskDataContext\";\n\nfunction App() {\n    return (\n        // TODO: needs a better fallback\n        <Suspense fallback={<div></div>}>\n            <MaskDataContextProvider>\n                <header className=\"App-header\">\n                    <AppNav />\n                </header>\n                <SearchWrapper />\n            </MaskDataContextProvider>\n        </Suspense>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === \"[::1]\" ||\n        // 127.0.0.0/8 are considered localhost for IPv4.\n        window.location.hostname.match(\n            /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n        )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                                    \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { \"Service-Worker\": \"script\" }\n    })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\");\n            if (\n                response.status === 404 ||\n                (contentType != null &&\n                    contentType.indexOf(\"javascript\") === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                \"No internet connection found. App is running in offline mode.\"\n            );\n        });\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister();\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n    }\n}\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport Backend from \"i18next-xhr-backend\";\nimport { initReactI18next } from \"react-i18next\";\n\ni18n\n    // load translation using xhr -> see /public/locales\n    // learn more: https://github.com/i18next/i18next-xhr-backend\n    .use(Backend)\n    // detect user language\n    // learn more: https://github.com/i18next/i18next-browser-languageDetector\n    .use(LanguageDetector)\n    // pass the i18n instance to react-i18next.\n    .use(initReactI18next)\n    // init i18next\n    // for all options read: https://www.i18next.com/overview/configuration-options\n    .init({\n        fallbackLng: \"ko\",\n        debug: false,\n\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        },\n    });\n\nexport default i18n;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"./i18n\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/MaskMapLogo.b988c109.svg\";","module.exports = __webpack_public_path__ + \"static/media/MaskMapIntro.146663f2.svg\";"],"sourceRoot":""}